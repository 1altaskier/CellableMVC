@model IEnumerable<CellableMVC.Models.PhoneVersion>

@{
    ViewBag.Title = "View";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<table style="width:70%; margin-left:auto; margin-right:auto;">
    <tr>
        <td>
            <h4>Sell Your broken or used phone for cash</h4>
            <hr />
            <div class="text-danger" style="text-align:center">@Request.Params["msg"]</div>
            <table style="width:80%; margin-left:auto; margin-right:auto;">
                @{
                    int cellCount = 0;
                    int cellLimit = 4;
                }

                @foreach (var item in Model)
                {
                    if (cellCount != cellLimit)
                    {
                        cellCount++;
                    }
                    else
                    {
                        cellCount = 1;
                    }

                    if (cellCount == 1)
                    {
                        @Html.Raw("<tr>");
                    }

                    <td style="text-align:center; padding:6px">
                        <a class="btn btn-default" href="@Url.Action("Carriers", "Phones", new { id = item.PhoneId, versionId = item.VersionId } )">
                            <img src="~/Pictures/@item.ImageName" alt="@item.ImageName" style="height:250px; width:130px;" />
                        </a>
                        <br />
                        @Html.DisplayFor(modelItem => item.Phone.Brand)
                        <br />
                        @Html.DisplayFor(modelItem => item.Version)
                        <br />
                        Base Cost: $@Html.DisplayFor(modelItem => item.BaseCost)
                    </td>

                    if (cellCount == cellLimit)
                    {
                        @Html.Raw("</tr>");
                    }
                }
                @if (Model.Count() == 0)
                {
                    @Html.Raw("<div style='width:100%; text-align:center;' class='text-danger'>No Records Found</div>");
                }
            </table>
        </td>
    </tr>
</table>
